<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Event Dispatch</title>
  </head>

  <body>
    <button class="btn">Click Me</button>

    <script>
      const $button = document.querySelector(".btn");

      // $button.addEventListener("click", (e) => {
      //   console.log(e);
      //   alert(`${e} Clicked!`);
      // });

      // 기존 이벤트 타입이 아닌, 임의의 이벤트 타입을 지정하여 커스텀 이벤트 객체를 생성한 경우
      // 빈드시 addEventListener 메서드 방식을 사용해야 한다.
      $button.addEventListener("foo", (e) => {
        // e.detail에는 CustomEvent의 두 번째 인수로 전달한 정보가 담겨 있다.
        alert(e.detail.message);
      });

      // const customEvent = new MouseEvent("click");

      // CustomEvent 이벤트 생성자 함수의 두 번째 인수로
      // 이벤트와 함께 전달하고 싶은 정보를 담은 detail 프로퍼티를 포함하는 객체를 전달할 수 있다.
      const customEvent = new CustomEvent("foo", {
        detail: { message: "Hi, I'm Seungmin!" },
      });
      $button.dispatchEvent(customEvent);
    </script>
  </body>
</html>
